<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>

    <link rel="stylesheet" href="../css/reset.css"/>

</head>

<body>

    <xmp>
        React의 컴포넌트 사이에서 데이터를 주고 받는 방법에 대해서 배운다.


        부모가 자식에게 데이터를 전달하는 것은 자식컴포넌트에서 부모컴포넌트의 데이터를 이용한(읽기) 로직을 처리하기 위함이고,
        자식 컴포넌트에서 부모컴포넌트로 데이터를 전달하는 것은 부모 state의 값을 변경하기 위함입니다.



        case1 : state 내림
        부모 -> 자식 데이터 전달
        부모 컴포넌트
        class Parent extends React.Component {
            parentText = 'parentText';
            render(){
                return (
                    <Child childMessage={this.parentText}></Child>
                )
            }
        }

        자식 컴포넌트
        class Child extends React.Component {
            render(){
                return (
                    <div>
                        {this.props.childMessage}
                    </div>
                )
            }
        }



        case2 : state up
        자식 -> 부모 데이터 전달
        부모 컴포넌트
        class Parent extends React.Component {
            parentFunction = (text) => {
                console.log(text);
            }
            render(){
                return (
                    <Child parentFunction={this.parentFunction}></Child>
                )
            }
        }

        자식 컴포넌트
        class Child extends React.Component {
            childText = 'childText';
            childFunction = () => {
                this.props.parentFunction(this.childText);
            }
            render(){
                return (
                    <div>
                        <button onClick={this.childFunction}>button</button>
                    </div>
                )
            }
        }

        - 부모 컴포넌트에서 자식 컴포넌트에 함수를 데이터로서 전달 후, 해당 함수를 통해 자식 데이터를 부모에게 전달
    </xmp>

    <div>
        <img src="stateupdonw.png" alt="" style="display: inline-block;">
        <img src="../images/react_data_flow.png" style="display: inline-block;">
    </div>
</body>

</html>


<!-- react 플러그인 include   -->
<!-- 주의: 사이트를 배포할 때는 "development.js"를 "production.min.js"로 대체하세요. -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.26.0/babel.js">/* JSX를 자바스크립트로 변환 */</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react/16.12.0/umd/react.development.js"> /* import { React} from "react"; */</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/16.11.0/umd/react-dom.development.js">/* import { ReactDOM } from "react-dom"; */</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/redux/4.0.5/redux.js"> /* import {Redux} from "redux"; */ </script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react-redux/7.2.2/react-redux.js">/* import {ReactRedux} from "react-redux"; */</script>
<script type="text/babel">
    //import React from "react";
    //import ReactDOM from "react-dom"
    
    console.log(React);
    console.log(ReactDOM);
    
    class ComponentChild extends React.Component {
    
        static defaultProps = {  /*  props의 디폴트 값 설정 */  } 
        static propsTypes = {  /* props의 프로퍼티 타입 설정 */ } 
        state = {
            // 상태값(변수)을 정의한다.
    
        }
        style = {
            // 컴포넌트 내부에서 사용할 인라인 스타일을 정의한다.
    
        }
        func = {
            // fucn에 정의된 메서드는 반드시 constructor에서 this bind() 해야 한다.
    
        }
        constructor(props) {
            super(props);
            // this 바인딩
            
            // ref 만들기
            
        }
        componentDidMount() {
            // 마운트 완료 후에  : 페이지 load 될 때 한번
        }
        componentDidUpdate(prevProps, prevState) {
            // 업데이트 완료 후에 : 여러번, state 가 변경될 때마다
        }
        componentWillUnmount() {
            // 언마운트 완료 후에 : 페이지 unload 될 때 한번
        }
        handler = (event)=>{
            // 이벤트 핸들러는 화살표 함수로 만들면 this bind()를 생략해도 된다
            console.log(event.target);//
        }
        render() {
            return (
                <div>
                    ComponentChild
                </div>
            );
        }
    }



    

    //import React from "react";
    //import ReactDOM from "react-dom"
    
    console.log(React);
    console.log(ReactDOM);
    
    class ComponentParent extends React.Component {
    
        static defaultProps = {  /*  props의 디폴트 값 설정 */  } 
        static propsTypes = {  /* props의 프로퍼티 타입 설정 */ } 
        state = {
            // 상태값(변수)을 정의한다.
    
        }
        style = {
            // 컴포넌트 내부에서 사용할 인라인 스타일을 정의한다.
    
        }
        func = {
            // fucn에 정의된 메서드는 반드시 constructor에서 this bind() 해야 한다.
    
        }
        constructor(props) {
            super(props);
            // this 바인딩
            
            // ref 만들기
            
        }
        componentDidMount() {
            // 마운트 완료 후에  : 페이지 load 될 때 한번
        }
        componentDidUpdate(prevProps, prevState) {
            // 업데이트 완료 후에 : 여러번, state 가 변경될 때마다
        }
        componentWillUnmount() {
            // 언마운트 완료 후에 : 페이지 unload 될 때 한번
        }
        handler = (event)=>{
            // 이벤트 핸들러는 화살표 함수로 만들면 this bind()를 생략해도 된다
            console.log(event.target);//
        }
        render() {
            return (
                <div>
                    <ComponentParent></ComponentParent>
                </div>
            );
        }
    }
    
    ReactDOM.render(<ComponentParent></ComponentParent>, document.getElementById("app"));

</script>